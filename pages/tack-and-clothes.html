<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../assets/css/tack-and-clothes.css">
    <link rel="stylesheet" href="../assets/css/backlink.css">
    <title>Picture Game</title>
</head>

<body>
    <a href="../index.html" class="back-link">‚Üê Back</a>
    <h1>Tack and clothes</h1>

    <div class="game-content">
        <div class="picture-container">
            <img src="../assets/images/tack-n-clothes.jpg" alt="Game Image" class="game-image">
            <!-- drop boxes -->
            <div class="drop-box" id="drop1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop5" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop6" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop7" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop8" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop9" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop10" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop11" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop12" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop13" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="drop-box" id="drop14" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
        <div class="words" id="words">
            <!-- words -->
        </div>
    </div>

    <button class="check-button" onclick="checkAnswers()">Check Answers</button>

    <script>
        var words =
            [
                "protection boot", "hoof pick", "helmet", "chaps", "comb",
                "bit", "bridle", "brush", "whip", "saddle",
                "boot", "saddle pad", "gloves", "horseshoe"
            ];

        var correctAnswers =
            [
                "protection boot",
                "hoof pick",
                "helmet",
                "chaps",
                "comb",
                "bit",
                "bridle",
                "brush",
                "whip",
                "saddle",
                "boot",
                "sadlle pad",
                "gloves",
                "horseshoe"
            ];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
        }

        function loadGame() {
            var wordsContainer = document.getElementById('words');
            var emptyMessage = document.getElementById('emptyMessage');

            shuffleArray(words);

            words.forEach((word, index) => {
                var wordDiv = document.createElement('div');
                wordDiv.classList.add('word');
                wordDiv.setAttribute('draggable', true);
                wordDiv.setAttribute('ondragstart', 'drag(event)');
                wordDiv.setAttribute('id', 'word' + index); // Assign unique ID
                wordDiv.innerText = word;
                wordsContainer.appendChild(wordDiv);
            });
        }

        function drag(event) {
            event.dataTransfer.setData("text", event.target.innerText);
            event.dataTransfer.setData("id", event.target.id);
        }

        function drop(event) {
            event.preventDefault();
            var data = event.dataTransfer.getData("text");
            var wordId = event.dataTransfer.getData("id");
            event.target.innerText = data;
            var wordElement = document.getElementById(wordId);
            if (wordElement) {
                wordElement.remove();
            }
        }

        function allowDrop(event) {
            event.preventDefault();
        }

        function checkAnswers() {
            var dropBoxes = document.getElementsByClassName('drop-box');
            for (var i = 0; i < dropBoxes.length; i++) {
                if (dropBoxes[i].innerText === correctAnswers[i]) {
                    dropBoxes[i].style.backgroundColor = 'lightgreen';
                } else {
                    dropBoxes[i].style.backgroundColor = 'lightcoral';
                }
            }
        }

        window.onload = loadGame;
    </script>

</body>

</html>